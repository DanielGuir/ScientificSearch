Metal ions are crucial for nucleic acid folding. From the free energy landscapes, we investigate the detailed mechanism for ion-induced collapse for a paradigm system: loop-tethered short DNA helices. We find that Na+ and Mg2+ play distinctive roles in helix-helix assembly. High [Na+] (>0.3 M) causes a reduced helix-helix electrostatic repulsion and a subsequent disordered packing of helices. In contrast, Mg2+ of concentration >1 mM is predicted to induce helix-helix attraction and results in a more compact and ordered helix-helix packing. Mg2+ is much more efficient in causing nucleic acid compaction. In addition, the free energy landscape shows that the tethering loops between the helices also play a significant role. A flexible loop, such as a neutral loop or a polynucleotide loop in high salt concentration, enhances the close approach of the helices in order to gain the loop entropy. On the other hand, a rigid loop, such as a polynucleotide loop in low salt concentration, tends to de-compact the helices. Therefore, a polynucleotide loop significantly enhances the sharpness of the ion-induced compaction transition. Moreover, we find that a larger number of helices in the system or a smaller radius of the divalent ions can cause a more abrupt compaction transition and a more compact state at high ion concentration, and the ion size effect becomes more pronounced as the number of helices is increased.